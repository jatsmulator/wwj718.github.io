<!--

 -----------------
< 终于等到你 >
 -----------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
----------------------------------

我正在构建一个基于网络协作的虚拟团队
喜欢你这种没事瞎翻源码的人
如果你恰好也热爱技术、喜欢折腾，一起来捣鼓好玩的东西吧
联系我咯: wuwenjie718@gmail.com
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Open edX的容器化之路</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="writing for time">
    <meta name="author" content="wwj">

    <!-- Le styles -->
    <link href="//cdn.bootcss.com/twitter-bootstrap/2.0.4/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" href="//7kttuq.com1.z0.glb.clouddn.com/just4fun.png?imageView2/2/w/50" type="image/x-icon">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
	
	.tag-1 {
		font-size: 13pt;
	}
	
	.tag-2 {
		font-size: 10pt;
	}
	
	.tag-2 {
		font-size: 8pt;
	}

	.tag-4 {
		font-size: 6pt;
	}

  #footer img{
    visibility: hidden;
  }
	
    </style>
    <link href="//cdn.bootcss.com/twitter-bootstrap/2.0.4/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="//cdn.bootcss.com/font-awesome/3.0.0/css/font-awesome.min.css" rel="stylesheet">
	
    <link href="/theme/css/pygments.css" rel="stylesheet">
	<link href="/theme/css/mystyle.css" rel="stylesheet">
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="shortcut icon" href="http://wwj-tmp-video.just4fun.site/favicon.ico">
    <!-- Le fav and touch icons -->


  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/index.html">writing for time </a>
          <div class="nav-collapse">
            <ul class="nav">
			  <li class="divider-vertical"></li>
                  <li >
                    <a href="/category/编程.html">
						<i class="icon-folder-open icon-large"></i>编程
					</a>
                  </li>
                  <li >
                    <a href="/category/读书.html">
						<i class="icon-folder-open icon-large"></i>读书
					</a>
                  </li>
                  <li class="active">
                    <a href="/category/edx.html">
						<i class="icon-folder-open icon-large"></i>edx
					</a>
                  </li>
                  <li >
                    <a href="/category/工具.html">
						<i class="icon-folder-open icon-large"></i>工具
					</a>
                  </li>
                  <li >
                    <a href="/category/观念.html">
						<i class="icon-folder-open icon-large"></i>观念
					</a>
                  </li>
                  <li >
                    <a href="/category/技术.html">
						<i class="icon-folder-open icon-large"></i>技术
					</a>
                  </li>
                  <li >
                    <a href="/category/架构.html">
						<i class="icon-folder-open icon-large"></i>架构
					</a>
                  </li>
                  <li >
                    <a href="/category/空想.html">
						<i class="icon-folder-open icon-large"></i>空想
					</a>
                  </li>
                  <li >
                    <a href="/category/少儿编程.html">
						<i class="icon-folder-open icon-large"></i>少儿编程
					</a>
                  </li>
                  <li >
                    <a href="/category/诗词.html">
						<i class="icon-folder-open icon-large"></i>诗词
					</a>
                  </li>
                  <li >
                    <a href="/category/数据.html">
						<i class="icon-folder-open icon-large"></i>数据
					</a>
                  </li>
                  <li >
                    <a href="/category/算法.html">
						<i class="icon-folder-open icon-large"></i>算法
					</a>
                  </li>
                  <li >
                    <a href="/category/随笔.html">
						<i class="icon-folder-open icon-large"></i>随笔
					</a>
                  </li>
                  <li >
                    <a href="/category/瓦碎集.html">
						<i class="icon-folder-open icon-large"></i>瓦碎集
					</a>
                  </li>
                  <li >
                    <a href="/category/硬件.html">
						<i class="icon-folder-open icon-large"></i>硬件
					</a>
                  </li>
			  
			  <ul class="nav pull-right">
				<li><a href="/archives.html"><i class="icon-th-list"></i>Archives</a></li>
			  </ul>
			  
            </ul>
            <!--<p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>





    <div class="container-fluid">
      <div class="row">

        <div class="span8 offset1" id="content">
            <!--<div class="alert alert-success" style="font-size:18px;">>  你那里天气好吗，有什么新闻可以当做笑话</div>-->
<section id="content">    
	<article>
		<header>
			<h1>
				<a href=""
					rel="bookmark" 
					title="Permalink to Open edX的容器化之路">
					Open edX的容器化之路 
				</a>
			</h1> 
		</header>
		<div class="entry-content">
		<div class="well">
<footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2018-07-22T00:00:00+00:00">
	<i class="icon-calendar"></i>日 22 七月 2018
</abbr>
<span class="label">By</span>
<a href="/author/wuwenjie.html"><i class="icon-user"></i>wuwenjie</a>
<span class="label">Category</span>
<a href="/category/edx.html"><i class="icon-folder-open"></i>edx</a>. 

	
<span class="label">Tags</span> 
	<a href="/tag/edx.html"><i class="icon-tag"></i>edx</a>
</footer><!-- /.post-info -->		</div>
		<h1 id="_1">前言</h1>
<p>前边(<a href="https://blog.just4fun.site/edx-enterprise.html">Open edX 服务企业</a>)提到</p>
<blockquote>
<p>我们(Open edX中国社区)近期正在梳理今年会议的一些报告内容，对其中感兴趣的部分进行解读，之后会在国内不同城市举办一些meetup,具体安排可以关注<a href="https://www.edustack.org/">edustack</a></p>
</blockquote>
<p>我认领的<a href="https://openedx.atlassian.net/wiki/spaces/COMM/pages/756384075/Open+edX+2018+Presentations">主题</a>中，有不少和Open edX社区在容器化方面的尝试有关，本文对此做个梳理</p>
<p>我将2018年与容器化相关的主题罗列如下:</p>
<ul>
<li><a href="https://openedx2018.sched.com/event/EUBO/navigating-the-docker-devstack">Navigating the Docker Devstack</a></li>
<li><a href="https://openedx2018.sched.com/event/EUAM/running-and-developing-open-edx-in-devstack-docker-edition">Running and Developing Open edX in Devstack - Docker Edition</a></li>
<li><a href="https://openedx2018.sched.com/event/EUAP/running-open-edx-in-production-with-docker">Running Open edX in production with Docker</a></li>
</ul>
<p>本文在解读完今年会议的几个主题之后，将梳理近年Open edX社区在容器化方向所做的工作、跟进目前的社区进展，并讨论未来的可能方向</p>
<!--
https://docs.google.com/document/d/1GnWWXP-cBFuglB-jcazNTwJAM9dnqYztP4_NcF_hMoI/edit?usp=sharing
-->

<h1 id="_2">主题解读</h1>
<h3 id="navigating-the-docker-devstack"><a href="https://openedx2018.sched.com/event/EUBO/navigating-the-docker-devstack">Navigating the Docker Devstack</a></h3>
<p>这是<a href="http://opencraft.com/">OpenCraft</a>为我们带来的一个分享</p>
<p>我在<a href="https://blog.just4fun.site/edx-community-members.html">盘点Open edX社区中拥抱开源的公司及值得关注的项目
</a>中，将<a href="http://opencraft.com/">OpenCraft</a>列为<code>Open edX社区中积极拥抱开源的公司</code>之一</p>
<p>如果你准备采用或迁移到open edx的<a href="https://open.edx.org/blog/hawthorn-rc1-out">最新版本(Hawthorn)</a>，而之前对docker有不甚熟悉，那么这个分享就是为你准备的。从官方放出的信息来看，Hawthorn之后:</p>
<blockquote>
<p>Devstack is now based on Docker rather than Vagrant. See the <a href="https://github.com/edx/devstack/blob/master/README.rst">Docker Devstack README</a></p>
</blockquote>
<p>Hawthorn之后，Open edX的开发环境都将基于Docker，而不是Vagrant。OpenCraft为我们带来的这个分享中，涵盖如下部分:</p>
<ol>
<li>Docker Basics</li>
<li>Docker vs. Vagrant</li>
<li>The Docker Devstack under the hood</li>
<li>Some tips and tricks</li>
</ol>
<p>OpenCraft给出了非常友好的引导，帮助open edx的开发者从Vagrant过渡到Docker</p>
<p>docker有庞大的生态，如果从0开始自学docker，容易在知识网络里应接不暇、不知所措。我认为这个分享是Open edX开发者最佳的docker入门资料，它告诉你对于当前的开发所需要掌握的知识，以及这些知识与你已有的概念之间的关系</p>
<h3 id="running-and-developing-open-edx-in-devstack-docker-edition"><a href="https://openedx2018.sched.com/event/EUAM/running-and-developing-open-edx-in-devstack-docker-edition">Running and Developing Open edX in Devstack - Docker Edition</a></h3>
<p>这个分享可以视为<a href="https://openedx2018.sched.com/event/EUBO/navigating-the-docker-devstack">Navigating the Docker Devstack</a>的自然延续</p>
<p>当你掌握了docker的基本技能之后，如何在docker里开始open edx的开发呢？这个分享就是为此准备的</p>
<p>分享者是edX核心开发者，内容包含：</p>
<ul>
<li>Offline devstack installer</li>
<li>Explain what devstack is (and isn’t)</li>
<li>Explain the installation process</li>
<li>Demo!</li>
<li>Audience choice:<ul>
<li>Q&amp;A</li>
<li>Tackle installation or usage issues in small groups</li>
<li>Deeper dive into particular topics</li>
</ul>
</li>
</ul>
<p>分享中，有几处我特别摘出,热爱容器化的小伙伴值得关注一下</p>
<blockquote>
<p>Designed to work like Ansible-configured virtual machines (the current
recommended production environment)
  Docker images for production would be built very differently
  Experimental production images have been created by the community
  Work to reduce the differences is being scheduled</p>
</blockquote>
<p>尽管docker在H版之后会作为默认的开发环境，但官方团队认为生产环境和开发环境差异巨大，生产环境目前仍推荐使用Ansible</p>
<p>如果你比较激进，可以试试社区的方案(我们将在下文中谈及)，社区已经有人完成了将docker用于生产环境的工作。此外官方也已将docker用于生产环境提上了日程。</p>
<p>对于关注数据分析的小伙伴来说，有条利好消息是 </p>
<blockquote>
<p>New services: Analytics Data API, Analytics Pipeline, Credentials, XQueue</p>
</blockquote>
<p>edx的数据分析部分十分复杂，我相信容器化之后，这部分将变得简单易用</p>
<h3 id="running-open-edx-in-production-with-docker"><a href="https://openedx2018.sched.com/event/EUAP/running-open-edx-in-production-with-docker">Running Open edX in production with Docker</a></h3>
<p>算得上一个振奋人心的分享，社区里已经有人完成了docker用于open edx生产环境的工作</p>
<p>这是由open fun为我们带来的一个分享</p>
<p>我在<a href="https://blog.just4fun.site/edx-community-members.html">盘点Open edX社区中拥抱开源的公司及值得关注的项目
</a>中，将<a href="https://github.com/openfun">openfun
</a>列为<code>Open edX社区中积极拥抱开源的公司</code>之一</p>
<p>这篇分享主要围绕<a href="https://github.com/openfun">openfun</a>的<a href="https://github.com/openfun/arnold">arnold</a>项目</p>
<blockquote>
<p>Arnold is a tool to deploy dockerized applications to OpenShift with Ansible.</p>
</blockquote>
<p>它已经被openfun用于生产环境了，而openfun构建了法国最大的mooc平台</p>
<p>考虑到OpenShift在国内访问可能不畅，国内用户可以使用<a href="https://github.com/minishift/minishift">minishift</a>做实验</p>
<p>如果你准备使用docker为用户提供SAAS服务，这个项目不容错过</p>
<h1 id="_3">其他进展</h1>
<p>社区里还有个值得关注的项目是<a href="https://github.com/regisb">regisb</a>为我们带来的<a href="https://github.com/regisb/openedx-docker">openedx-docker</a></p>
<blockquote>
<p>1-click universal Open edX install, for production and local development + Android app (based on Docker)</p>
</blockquote>
<p>open edx的易用性一直为人诟病，docker能够解决这个问题，<a href="https://github.com/regisb/openedx-docker">openedx-docker</a>令人震惊地做到了一键安装</p>
<h1 id="_4">回顾</h1>
<p>社区里很早就有尝试将docker引入opne edx中，印象中最早的努力来自<a href="https://hub.docker.com/r/appsembler/">appsembler</a></p>
<p>我在<a href="https://blog.just4fun.site/edx-community-members.html">盘点Open edX社区中拥抱开源的公司及值得关注的项目
</a>中，将<a href="https://github.com/appsembler">appsembler
</a>列为<code>Open edX社区中积极拥抱开源的公司</code>之一</p>
<p>我在2015年的时候基于<a href="https://hub.docker.com/r/appsembler/">appsembler</a>已有的工作，做了些调整，发布了<a href="https://blog.just4fun.site/docker-edx-birch-1.html">基于docker的edx birch-1国内版本</a>，之后也陆续为这块写了些文章:</p>
<ul>
<li><a href="https://blog.just4fun.site/edx-popularize-community-docker.html">edx推广，国内社区与docker</a></li>
<li><a href="https://blog.just4fun.site/edx-birch-on-docker.html">edx(birch) on docker</a></li>
<li><a href="https://blog.just4fun.site/edx-birch-distributed-on-docker.html">基于docker容器的edx分布式</a></li>
<li><a href="https://blog.just4fun.site/edx-data-analysis-on-docker.html">基于docker的edx数据分析</a></li>
<li><a href="https://blog.just4fun.site/docker-edx-birch-1.html">发布基于docker的edx birch-1国内版本</a></li>
<li><a href="https://blog.just4fun.site/edx-cypress-cn-install-and-use.html">Open edX中国社区Docker版安装使用</a></li>
<li><a href="https://blog.just4fun.site/edx-cypress-cn-for-deveiopment.html">使用Open edX中国社区Docker版来开发调试edX</a></li>
<li><a href="https://blog.just4fun.site/build-paas-for-edx-dev.html">基于docker构建Open edX云服务之过家家版</a></li>
</ul>
<p>2015年的时候与核心团队成员做了一些沟通，建议将docker引入到open edx中，大家觉得要迁移到docker上，时间成本巨大且不可预估，似乎对此热情不大，我将<a href="https://github.com/wwj718/edx_cypress_docker">edx_cypress_docker</a>更新了10个版本之后，发现社区对此没太多热情，项目组件极多，力不从心，便放弃了这条路。到近期的H版本官方终于决定将开发环境迁移到docker</p>
<p>近年来社区在docker的探索其实不少，但成熟度似乎都不高，但多数限于公司内部使用，直到今年官方和社区才同时放出比较成熟的方案。官方的工作集中在<a href="https://github.com/edx/devstack">devstack</a>。</p>
<h1 id="_5">未来</h1>
<p>我相信docker对Open edX是至关重要的，Open edX的复杂性影响了它的流行，而docker能够应对这个问题。docker也让open edx一些潜在商业模式(SAAS服务之类的)变得容易。docker还将服务于open edx的未来架构(微服务化)。</p>
<p>如果社区之后都基于docker来开发、使用open edx，大家各自的开源项目也将变得易于组合，指不定某一天将出现应用市场，一键安装open edx的拓展也许已经不远：）</p>
		</div><!-- /.entry-content -->
<!--
<p style="font-size:16px" class="alert alert-info">此文对我有价值，打赏杯茶喝^_^  <a target="_blank" class="btn btn-primary btn-large" href="https://me.alipay.com/wuwj">支付宝打赏</a> </p>
-->
<hr>
<div class="alert alert-success">版权声明：<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">自由转载-非商用-非衍生-保持署名</a></div>
<hr>
<!-- Duoshuo Comment BEGIN -->
<!--
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"wwj718blog"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
    -->
    <!-- Duoshuo Comment END -->
	</article>
</section>
        </div><!--/span-->
      
		<div style="margin-left:70px;" class="span3 well sidebar-nav" id="sidebar">
<ul class="nav nav-list">
    <!--<a href="/others/startedx.html"><h3>Open edX相关咨询</h3></a>-->
<hr/>
<!--
<h3>我的服务<h3>
    <a href="http://olk8jbdzi.bkt.clouddn.com/index.html"><h4>开源在线表单设计工具</h4></a>
    <a href="#kinto.jsut4fun.site"><h4>kinto server(施工中)</h4></a>
    <a href="#"><h4></h4></a>
-->
<!--<a href="/join-us"><h3>招兵买马(招实习!)<h3></a>-->
</hr>
</hr>

<li style="text-align: center;"><a target="_blank"  href="https://www.e-ducation.cn/?utm_source=zgblog&utm_medium=ads&utm_campaign=marketing_01"><img src="http://wwj-tmp-video.just4fun.site/education.png" width="100%" max-width="250px" /> </a></li>
<hr/>

<h4>我近期在折腾</h4>
<li><a href="https://blog.just4fun.site/about-codelab-club.html" target="_blank">codelab.club</a></li>
<li><a href="https://codelab-adapter-docs.codelab.club/" target="_blank">codelab-adapter</a></li>
<hr/>

<h4>少儿编程指北</h4>
<p>关注少儿编程，回顾这个领域的发展历程，推荐、解读经典书籍和文章，吐槽糟糕的教育，也推荐一些好产品和有趣的项目。不蹭热点不站队 :）</p>
<li style="text-align: center;">
<img src="http://scratch3-files.just4fun.site/qrcode_for_gh_e458d8658f3b_258.jpg" width="150px" /> 
</li>
<hr/>

<h4>站内搜索(基于google，你可能看不到)</h4>
<div>
<script>
  (function() {
       var cx = '004056624884628766270:aaifcpik-ua';
	       var gcse = document.createElement('script');
		       gcse.type = 'text/javascript';
			       gcse.async = true;
				       gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					           '//www.google.com/cse/cse.js?cx=' + cx;
							       var s = document.getElementsByTagName('script')[0];
								       s.parentNode.insertBefore(gcse, s);
									     })();
</script>
<gcse:search></gcse:search>
</div>
<hr>
<h4>手机访问：</h4>
<li style="text-align: center;">
<img src="http://wwj-tmp-video.just4fun.site/1514204585.png" width="150px" /> 
</li>

    <li><i class="icon-external-link"></i><a href="/aboutme.html">关于我</a></li>
    <li><i class="icon-external-link"></i><a href="https://github.com/wwj718">my github</a></li>
    <li><i class="icon-external-link"></i><a href="#">my gmail：wuwenjie718@gmail.com</a></li>
<hr>

<li class="nav-header"><h4><i class="icon-folder-close icon-large"></i>分类</h4></li>
<li>
<a href="/category/编程.html">
    <i class="icon-folder-open icon-large"></i>编程
</a>
</li>
<li>
<a href="/category/读书.html">
    <i class="icon-folder-open icon-large"></i>读书
</a>
</li>
<li>
<a href="/category/edx.html">
    <i class="icon-folder-open icon-large"></i>edx
</a>
</li>
<li>
<a href="/category/工具.html">
    <i class="icon-folder-open icon-large"></i>工具
</a>
</li>
<li>
<a href="/category/观念.html">
    <i class="icon-folder-open icon-large"></i>观念
</a>
</li>
<li>
<a href="/category/技术.html">
    <i class="icon-folder-open icon-large"></i>技术
</a>
</li>
<li>
<a href="/category/架构.html">
    <i class="icon-folder-open icon-large"></i>架构
</a>
</li>
<li>
<a href="/category/空想.html">
    <i class="icon-folder-open icon-large"></i>空想
</a>
</li>
<li>
<a href="/category/少儿编程.html">
    <i class="icon-folder-open icon-large"></i>少儿编程
</a>
</li>
<li>
<a href="/category/诗词.html">
    <i class="icon-folder-open icon-large"></i>诗词
</a>
</li>
<li>
<a href="/category/数据.html">
    <i class="icon-folder-open icon-large"></i>数据
</a>
</li>
<li>
<a href="/category/算法.html">
    <i class="icon-folder-open icon-large"></i>算法
</a>
</li>
<li>
<a href="/category/随笔.html">
    <i class="icon-folder-open icon-large"></i>随笔
</a>
</li>
<li>
<a href="/category/瓦碎集.html">
    <i class="icon-folder-open icon-large"></i>瓦碎集
</a>
</li>
<li>
<a href="/category/硬件.html">
    <i class="icon-folder-open icon-large"></i>硬件
</a>
</li>

<li class="nav-header"><h4><i class="icon-tags icon-large"></i>Tags</h4></li>
<hr>

<a target="_blank" href="http://wwj718.github.io/feeds/all.rss.xml">订阅feed</a>


<hr>
<h3>友情链接</h3>
<li><a target="_blank"  href="https://scratch.mit.edu/">Scratch</a></li>
<li><a target="_blank"  href="https://www.raspberrypi.org/">Raspberry Pi</a></li>
<li><a target="_blank" href="http://microbit.org/">micro:bit</a></li>
<li><a target="_blank" href="https://code.org/">Code.org</a></li>
<li><a target="_blank" href="https://www.edustack.org/">edustack</a></li>
<li><a target="_blank" href="http://blog.e-ducation.cn/">e-ducation</a></li>

</ul>        </div><!--/.well -->

      </div><!--/row-->

      <hr>

      <footer id="footer">
        <address id="about">
            诗酒趁年华<hr>
              powered by Pelican 
              <hr>
              <a href="www.miitbeian.gov.cn" target="_blank">苏ICP备18043473号</a>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F18db4b662c04fbd6cc2851d246c51b3f' type='text/javascript'%3E%3C/script%3E"));
</script>        </address><!-- /#about -->
      </footer>

    </div><!--/.fluid-container-->
<a href="https://github.com/wwj718"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/567c3a48d796e2fc06ea80409cc9dd82bf714434/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png"></a>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://libs.baidu.com/jquery/1.8.2/jquery.min.js"></script>
    <script src="/theme/js/bootstrap-transition.js"></script>
    <script src="/theme/js/bootstrap-dropdown.js"></script>
    <script src="/theme/js/bootstrap-collapse.js"></script>
	
	<!--<script src="/theme/js/autosidebar.js"></script>-->
  </body>
</html>
