<!--

 -----------------
< 终于等到你 >
 -----------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
----------------------------------

我正在构建一个基于网络协作的虚拟团队
喜欢你这种没事瞎翻源码的人
如果你恰好也热爱技术、喜欢折腾，一起来捣鼓好玩的东西吧
联系我咯: wuwenjie718@gmail.com
-->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>从Python转向Pharo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="writing for time">
    <meta name="author" content="wwj">

    <!-- Le styles -->
    <link href="//cdn.bootcss.com/twitter-bootstrap/2.0.4/css/bootstrap.min.css" rel="stylesheet">
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
	
	.tag-1 {
		font-size: 13pt;
	}
	
	.tag-2 {
		font-size: 10pt;
	}
	
	.tag-2 {
		font-size: 8pt;
	}

	.tag-4 {
		font-size: 6pt;
	}

  #footer img{
    visibility: hidden;
  }
	
    </style>
    <link href="//cdn.bootcss.com/twitter-bootstrap/2.0.4/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="//cdn.bootcss.com/font-awesome/3.0.0/css/font-awesome.min.css" rel="stylesheet">
	
    <link href="/theme/css/pygments.css" rel="stylesheet">
	<link href="/theme/css/mystyle.css" rel="stylesheet">
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link rel="shortcut icon" href="http://wwj-tmp-video.just4fun.site/favicon.ico">
    <!-- Le fav and touch icons -->


  </head>

  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/index.html">writing for time </a>
          <div class="nav-collapse">
            <ul class="nav">
			  <li class="divider-vertical"></li>
                  <li class="active">
                    <a href="/category/编程.html">
						<i class="icon-folder-open icon-large"></i>编程
					</a>
                  </li>
                  <li >
                    <a href="/category/读书.html">
						<i class="icon-folder-open icon-large"></i>读书
					</a>
                  </li>
                  <li >
                    <a href="/category/edx.html">
						<i class="icon-folder-open icon-large"></i>edx
					</a>
                  </li>
                  <li >
                    <a href="/category/工具.html">
						<i class="icon-folder-open icon-large"></i>工具
					</a>
                  </li>
                  <li >
                    <a href="/category/观念.html">
						<i class="icon-folder-open icon-large"></i>观念
					</a>
                  </li>
                  <li >
                    <a href="/category/技术.html">
						<i class="icon-folder-open icon-large"></i>技术
					</a>
                  </li>
                  <li >
                    <a href="/category/架构.html">
						<i class="icon-folder-open icon-large"></i>架构
					</a>
                  </li>
                  <li >
                    <a href="/category/空想.html">
						<i class="icon-folder-open icon-large"></i>空想
					</a>
                  </li>
                  <li >
                    <a href="/category/少儿编程.html">
						<i class="icon-folder-open icon-large"></i>少儿编程
					</a>
                  </li>
                  <li >
                    <a href="/category/诗词.html">
						<i class="icon-folder-open icon-large"></i>诗词
					</a>
                  </li>
                  <li >
                    <a href="/category/数据.html">
						<i class="icon-folder-open icon-large"></i>数据
					</a>
                  </li>
                  <li >
                    <a href="/category/算法.html">
						<i class="icon-folder-open icon-large"></i>算法
					</a>
                  </li>
                  <li >
                    <a href="/category/随笔.html">
						<i class="icon-folder-open icon-large"></i>随笔
					</a>
                  </li>
                  <li >
                    <a href="/category/瓦碎集.html">
						<i class="icon-folder-open icon-large"></i>瓦碎集
					</a>
                  </li>
                  <li >
                    <a href="/category/硬件.html">
						<i class="icon-folder-open icon-large"></i>硬件
					</a>
                  </li>
			  
			  <ul class="nav pull-right">
				<li><a href="/archives.html"><i class="icon-th-list"></i>Archives</a></li>
			  </ul>
			  
            </ul>
            <!--<p class="navbar-text pull-right">Logged in as <a href="#">username</a></p>-->
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>





    <div class="container-fluid">
      <div class="row">

        <div class="span8 offset1" id="content">
            <!--<div class="alert alert-success" style="font-size:18px;">>  你那里天气好吗，有什么新闻可以当做笑话</div>-->
<section id="content">    
	<article>
		<header>
			<h1>
				<a href=""
					rel="bookmark" 
					title="Permalink to 从Python转向Pharo">
					从Python转向Pharo 
				</a>
			</h1> 
		</header>
		<div class="entry-content">
		<div class="well">
<footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2019-03-19T00:00:00+00:00">
	<i class="icon-calendar"></i>二 19 三月 2019
</abbr>
<span class="label">By</span>
<a href="/author/wuwenjie.html"><i class="icon-user"></i>wuwenjie</a>
<span class="label">Category</span>
<a href="/category/bian-cheng.html"><i class="icon-folder-open"></i>编程</a>. 

	
<span class="label">Tags</span> 
	<a href="/tag/coding.html"><i class="icon-tag"></i>coding</a>
</footer><!-- /.post-info -->		</div>
		<p><img alt="" src="http://wwj-fig-bed.just4fun.site/smalltalk_11b30625.png" /></p>
<blockquote>
<p>Do not make end-users suffer because of your laziness or ineptness --Alan Kay</p>
</blockquote>
<h1 id="_1">前言</h1>
<p>过年的假期里写了篇文章: <a href="https://blog.just4fun.site/Pharo-trip.html">Smalltalk(Pharo)学习之旅</a>, 提到</p>
<blockquote>
<p>Bret让我相信smalltalk对我很重要.</p>
</blockquote>
<p>我在文章里信誓旦旦地说 准备使用Pharo(smalltalk的一门方言)将Scratch重新带回<a href="https://zh.wikipedia.org/zh-hans/Smalltalk">smalltalk</a>(Scratch的第一个版本便是用smalltalk写的)，我甚至给这个计划起了一个好听的名字:<code>回到未来</code>。可惜在一个假期里习得的能力，并不足以支持我动手干这件事。一半原因也赖Pharo<a href="https://mooc.pharo.org/">官方mooc</a>教程，这实在不是一份好教程。</p>
<p>现在差不多有能力来做这件事了，接下来对Scratch的改进，大多数会用smalltalk来做。</p>
<p>如果你掌握了基本的编程概念（通过<a href="https://scratch.mit.edu">Scratch</a>、或者玩20分钟<a href="http://www.squeakland.org/">Etoys</a>足以<a href="https://www.quora.com/What-does-Alan-Kay-think-of-using-either-Squeak-or-Pharo-as-the-first-language-for-introducing-programming">掌握这些基础概念</a>），<a href="https://github.com/SquareBracketAssociates/UpdatedPharoByExample">UpdatedPharoByExample</a>对你而言将是绝佳的Pharo教程。非常喜欢这份教程，它是我读过最好的编程教程之一,陪伴我渡过好几个美妙的夜晚。另一个印象深刻的编程教程是<a href="https://book.douban.com/subject/10518092/">Head First Programming</a>（这本书使用Python来讲解编程基本概念，面向毫无编程经验的新手，内容有趣又友好）</p>
<p>我倾心于建构主义者(<a href="https://zh.wikipedia.org/zh-cn/%E8%A5%BF%E6%91%A9%E7%88%BE%C2%B7%E6%B4%BE%E6%99%AE%E7%89%B9">西摩尔·派普特</a>、<a href="https://zh.wikipedia.org/zh-cn/%E8%89%BE%E4%BC%A6%C2%B7%E5%87%AF">艾伦·凯</a>、<a href="http://worrydream.com">Bret Victor</a>...)的认知论和教育理论，阅读了他们许多文章和工作成果之后，越来越难以忍受今天的编程工具和环境，你从他们那儿瞥见了未来，目光再落回现实，便开始挑剔，震惊于周遭环境的原始和逼仄。</p>
<p>艾伦凯在smalltalk上的工作，向我们展示了未来的样子，关于什么是适合人类的创造环境，这是一个伟大的人文主义者为我们带来的伟大礼物。我认为艾伦凯首先是个人文主义者和教育者，其次才是计算机科学家。(他在Ted的自我介绍里，首先提到自己是个教育工作者，其次才说是计算机科学家)，作为教育者的艾伦凯，充满了人文关怀; 而作为计算机科学家的艾伦凯，则充满了想象力和热情。</p>
<p>在所有哲学家中，我最喜欢<a href="https://zh.wikipedia.org/zh-cn/%E4%BC%AF%E7%89%B9%E5%85%B0%C2%B7%E7%BD%97%E7%B4%A0">伯特兰·罗素</a>, 在所有计算机科学家中，我最喜欢艾伦凯。</p>
<blockquote>
<p>Three passions, simple but overwhelmingly strong, have governed my life: the longing for love, the search for knowledge, and unbearable pity for the suffering of mankind.  -- Bertrand Russell</p>
</blockquote>
<hr />
<p><a href="http://worrydream.com">Bret Victor</a>在<a href="https://zh.wikipedia.org/wiki/%E9%81%93%E6%A0%BC%E6%8B%89%E6%96%AF%C2%B7%E6%81%A9%E6%A0%BC%E5%B0%94%E5%B7%B4%E7%89%B9">Douglas Engelbart</a>去世的那天写了篇文章: <a href="http://worrydream.com/Engelbart/">A few words on Doug Engelbart</a></p>
<div class="highlight"><pre><span></span>Say you bring up his 1968 demo on YouTube and watch a bit. At one point, the face of a remote collaborator, Bill Paxton, appears on screen, and Engelbart and Paxton have a conversation.

&quot;Ah!&quot;, you say. &quot;That&#39;s like Skype!&quot;

Then, Engelbart and Paxton start simultaneously working with the document on the screen.

&quot;Ah!&quot;, you say. &quot;That&#39;s like screen sharing!&quot;

No. It is not like screen sharing at all.

If you look closer, you&#39;ll notice that there are two individual mouse pointers. Engelbart and Paxton are each controlling their own pointer.

&quot;Okay,&quot; you say, &quot;so they have separate mouse pointers, and when we screen share today, we have to fight over a single pointer. That&#39;s a trivial detail; it&#39;s still basically the same thing.&quot;

No. It is not the same thing. At all. It misses the intent of the design, and for a research system, the intent matters most.
</pre></div>


<p>很少有现代计算机编程语言不受smalltalk的影响。但正如许多伟大的事物一样（如上文Douglas Engelbart的<a href="https://zh.wikipedia.org/zh-hant/%E6%89%80%E6%9C%89%E6%BC%94%E7%A4%BA%E4%B9%8B%E6%AF%8D">The Mother of All Demos</a>），人们将其断章取义地理解之后，造出无数糟糕得多的东西。</p>
<p>这些东西因为种种原因流行起来，于是胜利者们一副胜者为王的姿态，说"我是最流行的，我当然就是最好的，你如果真的那么好，为何没有流行起来"。舞台上的C++换上了Java，最近好像又差不多换上了Python。正如柏拉图换上了卢梭，然后是黑格尔、尼采、希特勒，他们轮番站上历史的聚光灯下，拥护者们重复着<code>存在即合理</code>、<code>胜者即正义</code>的信条。</p>
<p>Pharo作为smalltalk的现代方言，它从<a href="https://zh.wikipedia.org/zh-hans/Squeak">Squeak</a>出发，忠于smalltalk精神，继续向前。</p>
<blockquote>
<p>Everything is an object, and objects communicate only by sending each other message.</p>
</blockquote>
<p>我已经体验到Pharo带来的无尽乐趣和自由，在其中创造和表达是如此自在和舒适, 很难再回到原先使用的任何语言中了。</p>
<p>艾伦凯精心设计了smalltalk。他将使用者摆在第一位置，他们是有情感的人类, 他们不是机器，他们不善于记住一大堆规则，他们遇到未知会疑惑，遇到困难会烦躁。正如艾伦凯在<a href="https://www.quora.com/What-does-Alan-Kay-think-of-using-either-Squeak-or-Pharo-as-the-first-language-for-introducing-programming">What does Alan Kay think of using either Squeak or Pharo as the first language for introducing programming?</a>谈到的，smalltalk在设计之初就考虑了</p>
<blockquote>
<p>减少认知负担</p>
</blockquote>
<p>并致力于在用户入门时提供</p>
<blockquote>
<p>真正的演奏(real playing)</p>
</blockquote>
<p>作为设计者, 艾伦凯说:</p>
<blockquote>
<p>不要让用户因为你的懒惰或无能而受苦.</p>
</blockquote>
<p>我不知道今天主流编程语言的设计者们看到这些话，作何感想。有许多编程语言设计者对自己<code>闲着没事，花了一周就整了个编程语言</code>津津乐道。当这些糟糕的语言竟被推上历史舞台，受苦的便是它的用户。Bret在<a href="http://worrydream.com/#!/LearnableProgramming">LearnableProgramming</a>一文中对<code>Programming</code>这门语言的攻击是非常精彩的。而<code>Programming</code>在糟糕语言排行榜里并不靠前。</p>
<p>更多关于smalltalk的思想来源，可以参考<a href="http://worrydream.com/EarlyHistoryOfSmalltalk/#p53">The Early History Of Smalltalk</a>。</p>
<h1 id="_2">缘聚缘散</h1>
<p>Python并不坏，在所有目前流行的编程语言中，我最喜欢它。它有友好的社区、简洁的语法、完善的生态。如那句流行的口号说的:</p>
<blockquote>
<p>人生苦短，我用Python.</p>
</blockquote>
<p>我大约大三(2012-2013年)开始使用Python，之后一直将其作为主要编程语言。Python一路从小众语言成长为今天的主流语言。</p>
<p>与Python结缘，得从周日的一个晚上说起，当时在校园海报上，看到一个招募帖，有个技术团队在招募前端开发，我那时的兴趣完全在前端开发，它那么鲜活有趣。比php/asp可好玩多了。</p>
<p>团队由一位口才极好的石姓学长发起，他人很有趣，演讲也富有感染力。回想起来，这应该是改变我人生轨迹的一个夜晚，如果没有加入这个4人小团队，我不大可能从事计算机行业。</p>
<p>团队里写后端的是一位何姓学长，他使用Ubuntu/Vim/Python。看着光标在黑乎乎的命令行里移动如飞，这场景满足了我对黑客的所有幻想。这些工具被我一一记下，后来都在我的工具箱里。</p>
<p>那时学校里使用这门语言编程的人可能是个位数，我只知道寥寥三人，何姓学长是一位，我自己是一位，我还忽悠了@ymj换用这门语言。@ymj后来去了创新工场做人工智能；何姓学长杳无踪迹，可能隐姓埋名做了黑客；我则对计算机的许多领域都很好奇，Python的胶水特性十分适合我。</p>
<p>Python是那种理性的姑娘乐意选择一起生活的结婚对象(当然，理性的姑娘可能选择不婚)，它贴心、随和、经济实用，它有很暖的社区。Python即便有缺点，也绝非不能忍受，最多就是坐在沙发上抠抠脚之类的生活琐碎细节。许多婚姻可能因为争夺遥控器破裂，但很少因为抠脚破裂的，别小看了争夺遥控器这件事，它可能是三观不和的征兆，你们彼此不满于对方的精神食粮。</p>
<p>遇见smalltalk，对我来说，大抵类似郭襄在风陵渡口的遭遇，你如此清楚地知道，这就是你的所有期待，无论往后岁月黯不黯淡，江山易不易主，江河干不干枯，它都熠熠生辉，如满月，如焰火，如雪夜围炉时，对方眼里倒映的光。</p>
<p>在很长一段时间内，我还会将Python用作我的工作语言，用它写些脚本来管理系统、科学计算、异步编程...</p>
<p>但创造和探索，或者如Scratch社区鼓励的:表达自己， 这些激动人心的活动，我都将使用smalltalk. 我将smalltalk视为一个创造友好的语言。我也将编程看作和木工、表演、绘画一样的创造性工作，它的人文属性并不弱于工程属性。个人计算机的早期推动者们 <a href="https://zh.wikipedia.org/zh-cn/%E8%89%BE%E4%BC%A6%C2%B7%E5%87%AF">艾伦·凯</a>、<a href="https://zh.wikipedia.org/wiki/%E9%81%93%E6%A0%BC%E6%8B%89%E6%96%AF%C2%B7%E6%81%A9%E6%A0%BC%E5%B0%94%E5%B7%B4%E7%89%B9">Douglas Engelbart</a>希望它拥有人文属性。 未来计算机的探索者们<a href="https://zh.wikipedia.org/zh-cn/%E8%89%BE%E4%BC%A6%C2%B7%E5%87%AF">艾伦·凯</a>、<a href="http://worrydream.com">Bret Victor</a>也希望它有这种属性。</p>
<h1 id="_3">增量前进</h1>
<p>Python在很长的一段时间里依然会是系统管理、信息安全(入侵渗透)、胶水工具、科学计算、人工智能的主力语言。</p>
<p>我也不希望将之前在这些领域里积累起来的技能都抛弃了，我喜欢增量地前进，而不是换个工具从头再来。</p>
<p>尽管在原则上我认同爱因斯坦说的: </p>
<blockquote>
<p>什么是教育？把在学校里学到的所有东西全部忘光了之后留下来的东西才叫教育。</p>
</blockquote>
<p><code>还记得基本思想</code>和<code>能操作自如</code>中间的鸿沟，是需要时间来填补的。有大量细碎的细节和习惯，固化在某个具体技术框架里，要完全迁移到另一个体系中，时间成本并太低。</p>
<p>所以，在往后的时间里，我即便使用smalltalk来构建新项目，恐怕也会混合Python代码，会用到一些基于Python的顺手工具。</p>
<p>如何在smalltalk中运行Python代码，让他们能够混合编程？是我接下来需要面对的问题。尤其在过渡阶段，当遇到困难，会想退回到之前熟悉的安全域里。如果smalltalk能够方便调用Python，我就能够放心地增量前进。每次前进一点点，进可攻，退可守。</p>
<p>这也正是我们之前坚持让Python与Scathch能够互操作地原因，之前在<a href="https://blog.just4fun.site/scratch-adapter-eim-script.html">使用Python拓展Scratch的能力</a>里讨论说:</p>
<blockquote>
<p>如果这种过渡是必要的，我希望它们是渐进的，而不是割裂的，否则就不叫过渡了。初学者熟悉scratch，也喜欢它，我知道大多数使用scratch的孩子，对它的好感大都胜过文本语言。你不必抛弃scratch，如果你需要一些更强大的功能，使用Python去扩展它，这个过程应该很愉快，你写了很少的Python代码，立马就能应用到你喜欢的Scratch项目上，你看到你逐渐能做更多有趣的事，你感到充满乐趣，所学的新知识，立马应用在你感兴趣的项目里。<br />
我们反对割裂式的教学，学习者从scratch切换到Python，很长时间内只能通过print看到输出，没有生动的反馈，于是许多人便对阶段感到沮丧，踏上一条从入门到放弃的路。</p>
</blockquote>
<h3 id="_4">技术细节</h3>
<p>最后记录下技术细节。在Pharo中调用Python是很简单的，所受的约束很小，可以自如地在Pharo中调用Python库，并允许采用Pharo语法来调用它们。</p>
<p>我目前采用<a href="https://github.com/juliendelplanque/Python3Generator">Python3Generator</a>。</p>
<p>操作方式非常简单，首先在Pharo(我目前使用<code>Pharo 7.0.1</code>)中安装依赖库</p>
<div class="highlight"><pre><span></span><span class="nt">Metacello</span> <span class="nt">new</span>
    <span class="nt">baseline</span><span class="o">:</span> <span class="s1">&#39;Python3Generator&#39;</span><span class="o">;</span>
    <span class="nt">repository</span><span class="o">:</span> <span class="s1">&#39;github://juliendelplanque/Python3Generator/repository&#39;</span><span class="o">;</span>
    <span class="nt">load</span>
</pre></div>


<p>然后就可以自如调用Python啦:</p>
<div class="highlight"><pre><span></span><span class="s">&quot;Use and initialize the FFI interpreter.&quot;</span>
P3GInterpreter useFFIInterpreter.
P3GInterpreter current pathToPython<span class="o">:</span> <span class="s">&#39;/Library/Frameworks/Python.framework/Versions/3.7/bin/python3&#39;</span><span class="m">.</span>

instr <span class="o">:=</span> P3GInstructionsList new.

json <span class="o">:=</span> <span class="s">&#39;json&#39;</span> asP3GIdentifier.
file <span class="o">:=</span> <span class="s">&#39;file&#39;</span> asP3GIdentifier.
os <span class="o">:=</span> <span class="s">&#39;os&#39;</span> asP3GIdentifier.

instr addAll<span class="o">:</span> <span class="p">{</span>
    json import.
    os import.
    file <span class="o">&lt;-</span> <span class="p">(</span><span class="s">&#39;open&#39;</span> asP3GIdentifier callWith<span class="o">:</span> <span class="c1">#(&#39;/tmp/osp3g.json&#39; &#39;w&#39;)).</span>
    <span class="p">(</span>file<span class="o">=&gt;</span><span class="c1">#write) callWith: { (json=&gt;#dumps) callWith: {{</span>
                                                <span class="s">&#39;os&#39;</span> <span class="o">-&gt;</span> <span class="p">(</span>os<span class="o">=&gt;</span><span class="c1">#name).</span>
                                                <span class="s">&#39;uname&#39;</span> <span class="o">-&gt;</span> <span class="p">(</span>os<span class="o">=&gt;</span><span class="c1">#uname) call } asDictionary} }.</span>
    <span class="p">((</span>file<span class="o">=&gt;</span><span class="c1">#close) call)</span>
<span class="p">}</span><span class="m">.</span>

instr execute.
</pre></div>


<p>运行之后,查看<code>/tmp/osp3g.json</code>:</p>
<p><img alt="" src="http://wwj-fig-bed.just4fun.site/phpharo_python_6bb2c472.png" /></p>
<p>调用强大的第三方库(如<code>numpy</code>、<code>matplotlib</code>)也是OK的！</p>
<div class="highlight"><pre><span></span><span class="s">&quot;Use and initialize the FFI interpreter.&quot;</span>
P3GInterpreter useFFIInterpreter.
P3GInterpreter current pathToPython<span class="o">:</span> <span class="s">&#39;/usr/bin/python3&#39;</span><span class="m">.</span>

numpy <span class="o">:=</span> <span class="s">&#39;numpy&#39;</span> asP3GIdentifier.
mlab <span class="o">:=</span> <span class="s">&#39;matplotlib&#39;</span> asP3GIdentifier<span class="o">=&gt;</span><span class="c1">#mlab.</span>
pyplot <span class="o">:=</span> <span class="s">&#39;matplotlib&#39;</span> asP3GIdentifier<span class="o">=&gt;</span><span class="c1">#pyplot.</span>

instr <span class="o">:=</span> P3GInstructionsList new.

instr addAll<span class="o">:</span> <span class="p">{</span>
    <span class="s">&quot;Import modules.&quot;</span>
    numpy import.
    mlab import.
    pyplot import.

    <span class="s">&quot;Set seed for random.&quot;</span>
    <span class="p">(</span>numpy<span class="o">=&gt;</span><span class="c1">#random=&gt;#seed) callWith: #(0).</span>

    <span class="s">&quot;Example data&quot;</span>
    <span class="c1">#mu asP3GIdentifier &lt;- 100.</span>
    <span class="c1">#sigma asP3GIdentifier &lt;- 15.</span>
    <span class="c1">#x asP3GIdentifier &lt;- (#mu asP3GIdentifier + (#sigma asP3GIdentifier * ((numpy=&gt;#random=&gt;#randn) callWith: #(437)))).</span>

    <span class="c1">#num_bin asP3GIdentifier &lt;- 50.</span>

    <span class="c1">#res asP3GIdentifier &lt;- (pyplot=&gt;#subplots) call.</span>
    <span class="c1">#fig asP3GIdentifier &lt;- (#res asP3GIdentifier at: 0).</span>
    <span class="c1">#ax asP3GIdentifier &lt;- (#res asP3GIdentifier at: 1).</span>

    <span class="s">&quot;Plot histogram of data.&quot;</span>
    <span class="c1">#res asP3GIdentifier &lt;- ((#ax asP3GIdentifier=&gt;#hist) callWith: {#x asP3GIdentifier.#num_bin asP3GIdentifier} with: {&#39;normed&#39; -&gt; 1 } asDictionary).</span>
    <span class="c1">#bins asP3GIdentifier &lt;- (#res asP3GIdentifier at: 1).</span>

    <span class="s">&quot;Add a &#39;best fit line&#39;&quot;</span>
    <span class="c1">#y asP3GIdentifier &lt;- ((mlab=&gt;#normpdf) callWith: {#bins asP3GIdentifier . #mu asP3GIdentifier . #sigma asP3GIdentifier}).</span>
    <span class="p">(</span><span class="c1">#ax asP3GIdentifier=&gt;#plot) callWith: { #bins asP3GIdentifier . #y asP3GIdentifier . &#39;--&#39; }.</span>

    <span class="p">(</span>pyplot<span class="o">=&gt;</span><span class="c1">#show) call</span>
 <span class="p">}</span><span class="m">.</span>

instr execute
</pre></div>


<p>效果如下:</p>
<p><img alt="" src="http://wwj-fig-bed.just4fun.site/pharo_python_28e89981.png" /></p>
<!--
>  It seems to me that unless the Smalltalk community goes for economic self-sufficiency we will forever be reading answers to questions about languages that say, essentially, “there’s a much better way, exemplified by Smalltalk” but have as subtext “but we’ve failed to put that power into people’s hands, we’ve failed to live up to our claims in real systems or any kind of ubiquity” to which the rest of the world, quite reasonably, says “so what?”. -- [Eliot Miranda](https://www.quora.com/Why-does-Smalltalk-not-become-a-commonly-used-platform-for-learning-presentations-and-video-lecture-constructors-Squeak-looks-great-as-an-interactive-presentation-platform-for-college-lecturers)
-->

<h1 id="_5">第三方库</h1>
<p>尽管Pharo社区没有Python社区壮大，但社区里已经有很多高质量的第三方库，我整理了一些我喜欢的。 其中<a href="https://gtoolkit.com/">gtoolkit</a>、<a href="http://moosetechnology.org/">Moose</a>和<a href="http://www.drgeo.eu/home">Dr Geo</a>令我大吃一惊。整个Pharo社区充满了人文主义精神，这种精神体现在软件本身里，体现在软件的<a href="https://gtoolkit.com/#design">设计原则</a>里，体现在<a href="http://www.drgeo.eu/home">软件的介绍</a>里。他们秉承艾伦凯在smalltalk中展现的理念，继续做着令人震惊和振奋的工作。</p>
<ul>
<li><a href="https://gtoolkit.com/">gtoolkit</a>: We want the environment to fit the context of the current system and when it does not, we want to mold it seamlessly. This change is transformational.<ul>
<li>Programming is the coolest job on the planet, and it should feel like that all the time.</li>
<li><a href="https://github.com/feenkcom/gtoolkit">gtoolkit</a></li>
</ul>
</li>
<li><a href="http://moosetechnology.org/">Moose</a>: Moose is a platform for software and data analysis. <ul>
<li><a href="https://github.com/moosetechnology/Moose">github.com/moosetechnology/Moose</a></li>
</ul>
</li>
<li><a href="https://github.com/ba-st/Winter">Winter</a>: Winter is a 2D game engine for Pharo Smalltalk </li>
<li><a href="https://github.com/bouraqadi/PharoJS">PharoJS</a></li>
<li><a href="https://github.com/juliendelplanque/Python3Generator">Python3Generator</a></li>
<li><a href="https://github.com/guillep/Scale">Scale</a>: Pharo in the shell</li>
<li><a href="https://github.com/pharo-contributions/OSSubprocess">OSSubprocess</a></li>
<li><a href="https://github.com/SeasideSt/Seaside">Seaside</a></li>
<li><a href="https://github.com/svenvc/ston">ston</a></li>
<li><a href="https://github.com/pharo-ide/TelePharo">TelePharo</a>: Tools to manage and develop remote Pharo images</li>
<li><a href="https://github.com/pharo-iot/PharoThings">PharoThings</a>:Live programming platform for IoT projects based on Pharo<ul>
<li>Raspberry driven by WiringPi library<ul>
<li><a href="https://www.youtube.com/watch?v=0H9of7PQet0">a demo about low level board model</a></li>
</ul>
</li>
<li>Arduino driven by Firmata, soon</li>
<li>Beaglebone, soon</li>
</ul>
</li>
<li><a href="https://github.com/SquareBracketAssociates/EnterprisePharo">EnterprisePharo</a>:  A new book describing Pharo librairies to make business. </li>
<li><a href="https://github.com/pharo-open-documentation/pharo-wiki">pharo-wiki</a></li>
<li><a href="https://github.com/pharo-graphics/Bloc">Bloc</a>:  Low-level UI infrastructure &amp; framework for Pharo</li>
<li><a href="https://github.com/svenvc/zinc">zinc</a>: Zinc HTTP Components is an open-source Smalltalk framework to deal with the HTTP networking protocol.</li>
<li><a href="https://github.com/svenvc/P3">P3</a>: A lean and mean PostgreSQL client for Pharo</li>
<li><a href="https://github.com/ronsaldo/woden">woden</a>:  World Dynamic Engine - A 3D graphics engine for Pharo</li>
<li><a href="https://github.com/zeroflag/Teapot">Teapot</a>: Teapot micro web framework for Pharo Smalltalk</li>
<li><a href="https://github.com/VincentBlondeau/Cruiser">Cruiser</a>: A Pharo Tool to package applications</li>
<li><a href="https://github.com/pharo-nosql/voyage">voyage</a>: an object persistence abstraction layer for Pharo.</li>
<li><a href="https://github.com/jmari/JupyterTalk">JupyterTalk</a>: Pharo Smaltalk kernel for Jupyter:  It uses ZeroMQ ported from <a href="http://smalltalkhub.com/#!/~panuw/zeromq">zeromq</a> project to uFFI！！！<ul>
<li><a href="http://smalltalkhub.com/#!/~panuw/zeromq">zeromq</a>: ZeroMQ bindings for Pharo. Currently uses FFI interface. Supports ZeroMQ versions 2 and 3 (2.2 and 3.2 at least)</li>
</ul>
</li>
<li><a href="https://github.com/unchartedworks/SmalltalkVimMode">SmalltalkVimMode</a>: Vim Mode for Playground, System Browser, Debugger in Pharo.</li>
<li><a href="https://github.com/hernanmd/pi">pi</a>:Pharo Install - A CLI tool for installing Pharo Smalltalk packages (pip-like)</li>
<li><a href="https://github.com/svenvc/NeoJSON">NeoJSON</a>: read and write JSON converting to or from Smalltalk objects.</li>
<li><a href="https://github.com/pavel-krivanek/terminal">terminal</a>:Pseudoterminal emulator for Pharo</li>
<li><a href="https://github.com/pharo-nosql/mongotalk">mongotalk</a>: A Pharo driver for MongoDB</li>
<li><a href="https://github.com/astares/Pharo-Chrome">Pharo-Chrome</a>: Pharo support for Google Chrome</li>
<li><a href="https://github.com/ObjectProfile/KerasWrapper">KerasWrapper</a>: Keras bindings for Pharo</li>
<li><a href="http://bergel.eu/MyPapers/Infa18a-Keras.pdf">Experience in Bridging Keras for Python with Pharo</a></li>
<li><a href="https://github.com/juliendelplanque/JRPC">JRPC</a>: JSON-RPC 2.0 implementation for Pharo Smalltalk</li>
<li><a href="http://www.drgeo.eu/home">Dr Geo</a>: A software to design &amp; manipulate interactive geometric sketches. It helps kids to explore geometry.</li>
</ul>
<h1 id="_6">参考</h1>
<ul>
<li><a href="https://www.quora.com/Why-does-Smalltalk-not-become-a-commonly-used-platform-for-learning-presentations-and-video-lecture-constructors-Squeak-looks-great-as-an-interactive-presentation-platform-for-college-lecturers">Why does Smalltalk not become a commonly used platform for learning presentations and video lecture constructors? Squeak looks great as an interactive presentation platform for college lecturers.</a></li>
<li><a href="https://www.quora.com/What-book-s-would-you-recommend-to-a-computer-science-student">What book(s) would you recommend to a computer science student?</a></li>
<li><a href="https://www.quora.com/Is-there-a-programming-language-thats-effectively-a-successor-to-Smalltalk">Is there a programming language that's effectively a successor to Smalltalk?</a></li>
<li><a href="https://www.quora.com/What-does-Alan-Kay-use-in-lieu-of-PowerPoint">What does Alan Kay use in lieu of PowerPoint?</a></li>
<li><a href="https://www.quora.com/As-a-beginner-what-are-the-best-ways-to-approach-Computer-Science">As a beginner, what are the best ways to approach Computer Science?</a></li>
<li><a href="http://www.vpri.org/pdf/rn2005001_learning.pdf">Squeak Etoys, Children &amp; Learning</a></li>
<li><a href="https://www.quora.com/What-does-Alan-Kay-think-of-using-either-Squeak-or-Pharo-as-the-first-language-for-introducing-programming">What does Alan Kay think of using either Squeak or Pharo as the first language for introducing programming?</a></li>
<li><a href="http://worrydream.com/EarlyHistoryOfSmalltalk/#p53">The Early History Of Smalltalk</a></li>
<li><a href="http://www.cs.virginia.edu/~evans/cs655/readings/smalltalk.html">Design Principles Behind Smalltalk</a></li>
<li><a href="https://medium.com/morning-light/smalltalk-and-raspberry-pi-8d85793b132f">Smalltalk and Raspberry Pi</a></li>
<li><a href="https://medium.com/smalltalk-talk/behold-pharo-the-modern-smalltalk-38e132c46053">Behold Pharo: The Modern Smalltalk</a></li>
<li><a href="https://hackernoon.com/back-to-the-future-with-smalltalk-57c68fab583a">Back to the Future with Smalltalk</a></li>
<li><a href="https://github.com/pharo-open-documentation/awesome-pharo">awesome-pharo</a></li>
</ul>
		</div><!-- /.entry-content -->
<!--
<p style="font-size:16px" class="alert alert-info">此文对我有价值，打赏杯茶喝^_^  <a target="_blank" class="btn btn-primary btn-large" href="https://me.alipay.com/wuwj">支付宝打赏</a> </p>
-->
<hr>
<div class="alert alert-success">版权声明：<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">自由转载-非商用-非衍生-保持署名</a></div>
<hr>
<!-- Duoshuo Comment BEGIN -->
<!--
	<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"wwj718blog"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
    -->
    <!-- Duoshuo Comment END -->
	</article>
</section>
        </div><!--/span-->
      
		<div style="margin-left:70px;" class="span3 well sidebar-nav" id="sidebar">
<ul class="nav nav-list">
    <!--<a href="/others/startedx.html"><h3>Open edX相关咨询</h3></a>-->
<hr/>
<!--
<h3>我的服务<h3>
    <a href="http://olk8jbdzi.bkt.clouddn.com/index.html"><h4>开源在线表单设计工具</h4></a>
    <a href="#kinto.jsut4fun.site"><h4>kinto server(施工中)</h4></a>
    <a href="#"><h4></h4></a>
-->
<!--<a href="/join-us"><h3>招兵买马(招实习!)<h3></a>-->
</hr>
</hr>

<li style="text-align: center;"><a target="_blank"  href="https://www.e-ducation.cn/?utm_source=zgblog&utm_medium=ads&utm_campaign=marketing_01"><img src="http://wwj-tmp-video.just4fun.site/education.png" width="100%" max-width="250px" /> </a></li>
<hr/>

<h4>我近期在折腾</h4>
<li><a href="https://blog.just4fun.site/about-codelab-club.html" target="_blank">codelab.club</a></li>
<li><a href="https://codelab-adapter-docs.codelab.club/" target="_blank">codelab-adapter</a></li>
<li><a href="https://forums.codelab.club/" target="_blank">forums.codelab.club</a></li>
<hr/>

<h4>少儿编程指北</h4>
<p>关注少儿编程，回顾这个领域的发展历程，推荐、解读经典书籍和文章，吐槽糟糕的教育，也推荐一些好产品和有趣的项目。不蹭热点不站队 :）</p>
<li style="text-align: center;">
<img src="http://scratch3-files.just4fun.site/qrcode_for_gh_e458d8658f3b_258.jpg" width="150px" /> 
</li>
<hr/>

<h4>站内搜索(基于google，你可能看不到)</h4>
<div>
<script>
  (function() {
       var cx = '004056624884628766270:aaifcpik-ua';
	       var gcse = document.createElement('script');
		       gcse.type = 'text/javascript';
			       gcse.async = true;
				       gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
					           '//www.google.com/cse/cse.js?cx=' + cx;
							       var s = document.getElementsByTagName('script')[0];
								       s.parentNode.insertBefore(gcse, s);
									     })();
</script>
<gcse:search></gcse:search>
</div>
<hr>
<h4>手机访问：</h4>
<li style="text-align: center;">
<img src="http://wwj-tmp-video.just4fun.site/1514204585.png" width="150px" /> 
</li>

    <li><i class="icon-external-link"></i><a href="/aboutme.html">关于我</a></li>
    <li><i class="icon-external-link"></i><a href="https://github.com/wwj718">my github</a></li>
    <li><i class="icon-external-link"></i><a href="#">my gmail：wuwenjie718@gmail.com</a></li>
<hr>

<li class="nav-header"><h4><i class="icon-folder-close icon-large"></i>分类</h4></li>
<li>
<a href="/category/编程.html">
    <i class="icon-folder-open icon-large"></i>编程
</a>
</li>
<li>
<a href="/category/读书.html">
    <i class="icon-folder-open icon-large"></i>读书
</a>
</li>
<li>
<a href="/category/edx.html">
    <i class="icon-folder-open icon-large"></i>edx
</a>
</li>
<li>
<a href="/category/工具.html">
    <i class="icon-folder-open icon-large"></i>工具
</a>
</li>
<li>
<a href="/category/观念.html">
    <i class="icon-folder-open icon-large"></i>观念
</a>
</li>
<li>
<a href="/category/技术.html">
    <i class="icon-folder-open icon-large"></i>技术
</a>
</li>
<li>
<a href="/category/架构.html">
    <i class="icon-folder-open icon-large"></i>架构
</a>
</li>
<li>
<a href="/category/空想.html">
    <i class="icon-folder-open icon-large"></i>空想
</a>
</li>
<li>
<a href="/category/少儿编程.html">
    <i class="icon-folder-open icon-large"></i>少儿编程
</a>
</li>
<li>
<a href="/category/诗词.html">
    <i class="icon-folder-open icon-large"></i>诗词
</a>
</li>
<li>
<a href="/category/数据.html">
    <i class="icon-folder-open icon-large"></i>数据
</a>
</li>
<li>
<a href="/category/算法.html">
    <i class="icon-folder-open icon-large"></i>算法
</a>
</li>
<li>
<a href="/category/随笔.html">
    <i class="icon-folder-open icon-large"></i>随笔
</a>
</li>
<li>
<a href="/category/瓦碎集.html">
    <i class="icon-folder-open icon-large"></i>瓦碎集
</a>
</li>
<li>
<a href="/category/硬件.html">
    <i class="icon-folder-open icon-large"></i>硬件
</a>
</li>

<li class="nav-header"><h4><i class="icon-tags icon-large"></i>Tags</h4></li>
<hr>

<a target="_blank" href="http://wwj718.github.io/feeds/all.rss.xml">订阅feed</a>


<hr>
<h3>友情链接</h3>
<li><a target="_blank"  href="https://scratch.mit.edu/">Scratch</a></li>
<li><a target="_blank"  href="https://www.raspberrypi.org/">Raspberry Pi</a></li>
<li><a target="_blank" href="http://microbit.org/">micro:bit</a></li>
<li><a target="_blank" href="https://code.org/">Code.org</a></li>
<li><a target="_blank" href="https://www.edustack.org/">edustack</a></li>
<li><a target="_blank" href="http://blog.e-ducation.cn/">e-ducation</a></li>

</ul>        </div><!--/.well -->

      </div><!--/row-->

      <hr>

      <footer id="footer">
        <address id="about">
            诗酒趁年华<hr>
              powered by Pelican 
              <hr>
              <a href="www.miitbeian.gov.cn" target="_blank">苏ICP备18043473号</a>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F18db4b662c04fbd6cc2851d246c51b3f' type='text/javascript'%3E%3C/script%3E"));
</script>        </address><!-- /#about -->
      </footer>

    </div><!--/.fluid-container-->
<a href="https://github.com/wwj718"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://camo.githubusercontent.com/567c3a48d796e2fc06ea80409cc9dd82bf714434/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f6c6566745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png"></a>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="//libs.baidu.com/jquery/1.8.2/jquery.min.js"></script>
    <script src="//cdn.bootcss.com/twitter-bootstrap/2.0.4/bootstrap.min.js"></script>
    <!--
    <script src="/theme/js/bootstrap-transition.js"></script>
    <script src="/theme/js/bootstrap-dropdown.js"></script>
    <script src="/theme/js/bootstrap-collapse.js"></script>
    -->
	
	<!--<script src="/theme/js/autosidebar.js"></script>-->
  </body>
</html>
